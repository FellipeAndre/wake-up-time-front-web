<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wake Up Now Â· Plataforma</title>

    <!-- âœ¦ GLOBAL STYLE â€” paleta e design system unificado -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="components.css">

    <!-- âœ¦ ESTILOS POR PACOTE -->
    <link rel="stylesheet" href="home/home.css">
    <link rel="stylesheet" href="upload/upload.css">
    <link rel="stylesheet" href="cadastro/cadastro.css">
    <link rel="stylesheet" href="videos/videos.css">
    <link rel="stylesheet" href="pagamento/pagamento.css">
    <link rel="stylesheet" href="login/login.css">

    <!-- React CDN (Desenvolvimento) -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Babel (Para transpilar JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- API Configuration -->
    <script>
        // âš™ï¸ Configure sua URL base aqui (ou deixe como estÃ¡ para produÃ§Ã£o)
        window.API_CONFIG = {
            BASE_URL: 'http://localhost:8080/api',  // Mude para sua URL do backend
            USE_MOCK: false  // Mude para true para usar mock (desenvolvimento)
        };
    </script>
</head>

<body>
    <!-- React Root -->
    <div id="root"></div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ğŸ” AUTH SERVICE â€” Validar usuÃ¡rio na base -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script>
        /**
         * ğŸ” AUTH SERVICE Â· Wake Up Now
         */
        const AuthService = {
          async validateGoogleToken(googleToken) {
            try {
              const url = window.API_CONFIG.USE_MOCK 
                ? 'MOCK' 
                : `${window.API_CONFIG.BASE_URL}/auth/google`;
              
              // ğŸ§ª Mock para desenvolvimento
              if (window.API_CONFIG.USE_MOCK) {
                console.log('ğŸ§ª [MOCK] Google Auth Request');
                await new Promise(r => setTimeout(r, 500));
                return {
                  success: true,
                  isNewUser: false,
                  user: { id: 'user-123', email: 'teste@email.com', name: 'Teste User', role: 'student' },
                  token: 'mock-jwt-token-' + Date.now()
                };
              }

              const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ token: googleToken })
              });
              if (!response.ok) throw new Error(`HTTP ${response.status}`);
              return await response.json();
            } catch (error) {
              console.error('Google validation error:', error);
              throw error;
            }
          },

          async validateAppleToken(appleToken) {
            try {
              const url = window.API_CONFIG.USE_MOCK 
                ? 'MOCK' 
                : `${window.API_CONFIG.BASE_URL}/auth/apple`;
              
              // ğŸ§ª Mock para desenvolvimento
              if (window.API_CONFIG.USE_MOCK) {
                console.log('ğŸ§ª [MOCK] Apple Auth Request');
                await new Promise(r => setTimeout(r, 500));
                return {
                  success: true,
                  isNewUser: false,
                  user: { id: 'user-456', email: 'apple@email.com', name: 'Apple User', role: 'student' },
                  token: 'mock-jwt-token-' + Date.now()
                };
              }

              const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ token: appleToken })
              });
              if (!response.ok) throw new Error(`HTTP ${response.status}`);
              return await response.json();
            } catch (error) {
              console.error('Apple validation error:', error);
              throw error;
            }
          },

          async completeSignup(userData) {
            try {
              const url = window.API_CONFIG.USE_MOCK 
                ? 'MOCK' 
                : `${window.API_CONFIG.BASE_URL}/auth/signup`;
              
              // ğŸ§ª Mock para desenvolvimento
              if (window.API_CONFIG.USE_MOCK) {
                console.log('ğŸ§ª [MOCK] Signup Request', userData);
                await new Promise(r => setTimeout(r, 800));
                return {
                  success: true,
                  user: { 
                    id: 'user-' + Date.now(), 
                    email: userData.email, 
                    name: userData.name, 
                    role: 'student' 
                  },
                  token: 'mock-jwt-token-' + Date.now()
                };
              }

              const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(userData)
              });
              if (!response.ok) throw new Error('Erro ao completar cadastro');
              return await response.json();
            } catch (error) {
              console.error('Signup error:', error);
              throw error;
            }
          },

          async loginEmail(email, password) {
            try {
              const url = window.API_CONFIG.USE_MOCK 
                ? 'MOCK' 
                : `${window.API_CONFIG.BASE_URL}/auth/login`;
              
              // ğŸ§ª Mock para desenvolvimento
              if (window.API_CONFIG.USE_MOCK) {
                console.log('ğŸ§ª [MOCK] Email Login Request', {email});
                await new Promise(r => setTimeout(r, 800));
                if (email === 'teste@email.com' && password === '123456') {
                  return {
                    success: true,
                    user: { id: 'user-123', email, name: 'Teste User', role: 'student' },
                    token: 'mock-jwt-token-' + Date.now()
                  };
                } else {
                  throw new Error('Email ou senha invÃ¡lidos');
                }
              }

              const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, password })
              });
              if (!response.ok) {
                const error = await response.json();
                throw new Error(error.message || 'Erro ao fazer login');
              }
              return await response.json();
            } catch (error) {
              console.error('Email login error:', error);
              throw error;
            }
          },

          saveAuthData(user, token) {
            localStorage.setItem('wun_user', JSON.stringify(user));
            localStorage.setItem('wun_token', token);
            window.AuthState.login(user, token);
          },

          getAuthData() {
            const token = localStorage.getItem('wun_token');
            const user = localStorage.getItem('wun_user');
            return { token, user: user ? JSON.parse(user) : null };
          },

          logout() {
            localStorage.removeItem('wun_token');
            localStorage.removeItem('wun_user');
            window.AuthState.logout();
          },

          isAuthenticated() {
            const { token } = this.getAuthData();
            return !!token;
          }
        };
        window.AuthService = AuthService;
    </script>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         SCRIPTS REACT E APLICAÃ‡ÃƒO
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <script type="text/babel">
        /**
         * APLICAÃ‡ÃƒO REACT - Wake Up Now
         * 
         * Estrutura:
         * - App.jsx (container principal)
         * - Sidebar (navegaÃ§Ã£o Ã  direita)
         * - MainArea (conteÃºdo)
         * - Componentes por view (Home, Cadastro, Videos, Upload, Pagamento)
         */

        const { useState } = React;
        const { createRoot } = ReactDOM;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SISTEMA DE AUTENTICAÃ‡ÃƒO GLOBAL
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        window.AuthState = {
            userData: localStorage.getItem('userData') ? JSON.parse(localStorage.getItem('userData')) : null,
            userToken: localStorage.getItem('userToken') || null,

            login(user, token) {
                this.userData = user;
                this.userToken = token;
                localStorage.setItem('userData', JSON.stringify(user));
                localStorage.setItem('userToken', token);
            },

            logout() {
                this.userData = null;
                this.userToken = null;
                localStorage.removeItem('userData');
                localStorage.removeItem('userToken');
            },

            isAdmin() {
                return this.userData?.role === 'admin' || false;
            },

            isAuthenticated() {
                return !!(this.userToken && this.userData);
            }
        };

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // NAVEGAÃ‡ÃƒO GLOBAL (compatibilidade com HTML vanilla)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Esta funÃ§Ã£o Ã© chamada pelos botÃµes HTML e redireciona para React
        window.setCurrentViewGlobal = null; // SerÃ¡ atribuÃ­da pelo React App
        
        function navigateTo(view) {
            console.log('navigateTo:', view);
            if (window.setCurrentViewGlobal) {
                window.setCurrentViewGlobal(view);
            } else {
                console.warn('setCurrentView nÃ£o foi inicializado ainda');
            }
        }
        
        window.navigateTo = navigateTo;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // COMPONENTES REACT
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        // Logo SVG HexÃ¡gono
        function LogoImage() {
            return (
                <img src="./assets/wakeup-logo.jpg" alt="Wake Up Now" style={{width:'100%', height:'auto', maxWidth:'60px'}} />
            );
        }

        // Sidebar Ã  DIREITA
        function Sidebar({ currentView, onNavigate }) {
            const isAdmin = window.AuthState.isAdmin();

            return (
                <aside className="sidebar">
                    <div className="sidebar-brand">
                        <div className="brand-hex">
                            <LogoImage />
                        </div>
                        <div className="sidebar-brand-text">
                            <h2>wake up</h2>
                            <span>now</span>
                        </div>
                    </div>

                    <nav className="sidebar-nav">
                        <span className="nav-section-label">Principal</span>
                        <a className={`nav-item ${currentView === 'home' ? 'active' : ''}`} onClick={() => onNavigate('home')}>
                            <span className="nav-icon">âŒ‚</span>Home
                        </a>
                        <a className={`nav-item ${currentView === 'videos' ? 'active' : ''}`} onClick={() => onNavigate('videos')}>
                            <span className="nav-icon">â–¶</span>ConteÃºdos
                            <span className="nav-badge">120+</span>
                        </a>
                        <a className={`nav-item ${currentView === 'cadastro' ? 'active' : ''}`} onClick={() => onNavigate('cadastro')}>
                            <span className="nav-icon">â—</span>Cadastro/Login
                        </a>
                        <a className={`nav-item ${currentView === 'pagamento' ? 'active' : ''}`} onClick={() => onNavigate('pagamento')}>
                            <span className="nav-icon">â—ˆ</span>Planos
                        </a>

                        {isAdmin && (
                            <>
                                <span className="nav-section-label">AdministraÃ§Ã£o</span>
                                <a className={`nav-item ${currentView === 'upload' ? 'active' : ''}`} onClick={() => onNavigate('upload')}>
                                    <span className="nav-icon">â¬†</span>Upload
                                    <span className="nav-badge admin">Admin</span>
                                </a>
                            </>
                        )}
                    </nav>

                    {window.AuthState.isAuthenticated() && (
                        <div className="sidebar-footer">
                            <div className="user-chip">
                                <div className="user-avatar">{window.AuthState.userData.name.substring(0, 2).toUpperCase()}</div>
                                <div className="user-info">
                                    <strong>{window.AuthState.userData.name}</strong>
                                    <small>{window.AuthState.userData.email}</small>
                                </div>
                                <span style={{fontSize:'0.8rem', color:'var(--text-muted)'}}>âš™</span>
                            </div>
                        </div>
                    )}
                </aside>
            );
        }

        // Topbar
        function Topbar({ title, subtitle, actions }) {
            return (
                <div className="topbar">
                    <span className="topbar-title">{title}</span>
                    <span className="topbar-sub">{subtitle}</span>
                    <div className="topbar-actions">
                        {actions}
                    </div>
                </div>
            );
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // IMPORTAR COMPONENTES (DinÃ¢mico - Em ProduÃ§Ã£o usar bundler)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        // Para desenvolvimento: importar cÃ³digo JSX diretamente
        // NOTA: Em produÃ§Ã£o, usar Vite ou Webpack para bundle
        
        // Home Component
        function Home({ onClick }) {
            const isAuthenticated = window.AuthState && window.AuthState.isAuthenticated();
            const user = window.AuthState && window.AuthState.userData;

            const featuredVideos = [
                { id: 1, title: 'Acordar mais cedo', emoji: 'ğŸŒ…' },
                { id: 2, title: 'MeditaÃ§Ã£o matinal', emoji: 'ğŸ§˜' },
                { id: 3, title: 'ExercÃ­cios matinais', emoji: 'ğŸ’ª' }
            ];

            const stats = [
                { label: 'VÃ­deos', value: '150+' },
                { label: 'UsuÃ¡rios ativos', value: '5.2k' },
                { label: 'Tempo total', value: '500h' }
            ];

            return (
                <div className="view active home-view">
                    {/* Hero */}
                    <section className="hero" style={{padding:'120px 40px', background:'linear-gradient(135deg, #1a1a1a 0%, #0d0d0d 100%)', minHeight:'100vh', display:'flex', alignItems:'center', justifyContent:'center', position:'relative', overflow:'hidden'}}>
                        {/* Background Accent */}
                        <div style={{position:'absolute', top:'-50%', right:'-50%', width:'800px', height:'800px', borderRadius:'50%', background:'radial-gradient(circle, rgba(200,200,200,0.03) 0%, transparent 70%)', pointerEvents:'none'}}></div>
                        
                        <div style={{maxWidth:'1200px', width:'100%', display:'grid', gridTemplateColumns:'1fr 1fr', gap:'80px', alignItems:'center', position:'relative', zIndex:1}}>
                            {/* Left Column - Copy */}
                            <div style={{display:'flex', flexDirection:'column', gap:'32px'}}>
                                <div>
                                    <h2 style={{fontSize:'0.95rem', fontWeight:'600', color:'var(--silver)', textTransform:'uppercase', letterSpacing:'2px', margin:'0 0 16px 0'}}>Bem-vindo Ã  Wake Up Now</h2>
                                    <h1 style={{fontSize:'3.5rem', fontWeight:'700', color:'#ffffff', margin:'0 0 20px 0', lineHeight:'1.2'}}>Desperte seu potencial</h1>
                                    <p style={{fontSize:'1.2rem', color:'rgba(200,200,200,0.8)', margin:'0', lineHeight:'1.6'}}>
                                        A plataforma completa para quem quer acordar mais cedo, transformar sua rotina e conquistar seus objetivos com tÃ©cnicas comprovadas e conteÃºdo de alta qualidade.
                                    </p>
                                </div>

                                <div style={{display:'flex', flexDirection:'column', gap:'16px', pt:'24px'}}>
                                    {!isAuthenticated ? (
                                        <>
                                            <button onClick={onClick} className="btn btn-primary" style={{padding:'16px 40px', fontSize:'1rem', fontWeight:'600', width:'fit-content'}}>ğŸš€ ComeÃ§ar Agora</button>
                                            <p style={{fontSize:'0.9rem', color:'rgba(200,200,200,0.6)', margin:'0'}}>Acesso a 120+ vÃ­deos â€¢ Comunidade ativa â€¢ Suporte 24/7</p>
                                        </>
                                    ) : (
                                        <button className="btn btn-primary" style={{padding:'16px 40px', fontSize:'1rem', fontWeight:'600', width:'fit-content'}}>â–¶ Continuar Aprendizado</button>
                                    )}
                                </div>

                                {/* Stats */}
                                <div style={{display:'grid', gridTemplateColumns:'1fr 1fr', gap:'30px', marginTop:'40px', paddingTop:'40px', borderTop:'1px solid rgba(200,200,200,0.1)'}}>
                                    <div>
                                        <div style={{fontSize:'2rem', fontWeight:'700', color:'var(--silver)', marginBottom:'8px'}}>120+</div>
                                        <div style={{fontSize:'0.9rem', color:'rgba(200,200,200,0.7)'}}>VÃ­deos exclusivos</div>
                                    </div>
                                    <div>
                                        <div style={{fontSize:'2rem', fontWeight:'700', color:'var(--silver)', marginBottom:'8px'}}>5.2k+</div>
                                        <div style={{fontSize:'0.9rem', color:'rgba(200,200,200,0.7)'}}>Alunos ativos</div>
                                    </div>
                                </div>
                            </div>

                            {/* Right Column - Visual */}
                            <div style={{display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column', gap:'32px'}}>
                                <div style={{width:'100%', maxWidth:'350px', height:'350px', borderRadius:'20px', background:'linear-gradient(135deg, rgba(255,127,80,0.15) 0%, rgba(100,149,237,0.15) 100%)', border:'2px solid var(--silver)', display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column', gap:'24px'}}>
                                    <div style={{fontSize:'4rem'}}>ğŸ“š</div>
                                    <div style={{textAlign:'center'}}>
                                        <h3 style={{margin:'0 0 8px 0', color:'var(--silver)', fontSize:'1.3rem'}}>Acesso Imediato</h3>
                                        <p style={{margin:'0', color:'rgba(200,200,200,0.7)', fontSize:'0.95rem'}}>Comece seus cursos agora mesmo</p>
                                    </div>
                                </div>

                                <div style={{display:'flex', gap:'16px', width:'100%', justifyContent:'center'}}>
                                    <div style={{flex:1, padding:'20px', background:'rgba(200,200,200,0.05)', borderRadius:'12px', border:'1px solid rgba(200,200,200,0.1)', textAlign:'center'}}>
                                        <div style={{fontSize:'1.8rem', marginBottom:'8px'}}>ğŸ“</div>
                                        <div style={{color:'rgba(200,200,200,0.8)', fontSize:'0.9rem'}}>Certificado</div>
                                    </div>
                                    <div style={{flex:1, padding:'20px', background:'rgba(200,200,200,0.05)', borderRadius:'12px', border:'1px solid rgba(200,200,200,0.1)', textAlign:'center'}}>
                                        <div style={{fontSize:'1.8rem', marginBottom:'8px'}}>ğŸ‘¥</div>
                                        <div style={{color:'rgba(200,200,200,0.8)', fontSize:'0.9rem'}}>Comunidade</div>
                                    </div>
                                    <div style={{flex:1, padding:'20px', background:'rgba(200,200,200,0.05)', borderRadius:'12px', border:'1px solid rgba(200,200,200,0.1)', textAlign:'center'}}>
                                        <div style={{fontSize:'1.8rem', marginBottom:'8px'}}>24/7</div>
                                        <div style={{color:'rgba(200,200,200,0.8)', fontSize:'0.9rem'}}>Acesso</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    {/* Features Section */}
                    <section style={{padding:'80px 40px', background:'var(--bg-secondary)'}}>
                        <div style={{maxWidth:'1200px', margin:'0 auto'}}>
                            <div style={{textAlign:'center', marginBottom:'60px'}}>
                                <h2 style={{fontSize:'2.2rem', fontWeight:'700', color:'var(--text-primary)', margin:'0 0 16px 0'}}>Por que escolher Wake Up Now?</h2>
                                <p style={{fontSize:'1.1rem', color:'var(--text-secondary)', margin:'0'}}>Tudo que vocÃª precisa para acordar mais cedo e alcanÃ§ar seus objetivos</p>
                            </div>
                            <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))', gap:'30px'}}>
                                {[
                                    {icon:'ğŸ“š', title:'ConteÃºdo Estruturado', desc:'120+ vÃ­deos organizados em mÃ³dulos progressivos'},
                                    {icon:'ğŸ¯', title:'TÃ©cnicas Comprovadas', desc:'MÃ©todos baseados em pesquisa cientÃ­fica'},
                                    {icon:'ğŸ‘¥', title:'Comunidade Ativa', desc:'Apoio e interaÃ§Ã£o com outros alunos'},
                                    {icon:'ğŸ“…', title:'Acesso 24/7', desc:'Aprenda no seu prÃ³prio ritmo e horÃ¡rio'},
                                    {icon:'ğŸ“', title:'Certificados', desc:'ComprovaÃ§Ã£o de conclusÃ£o dos cursos'},
                                    {icon:'ğŸ’¬', title:'Suporte Dedicado', desc:'DÃºvidas? Nos contacte via chat ou email'}
                                ].map((f, i) => (
                                    <div key={i} style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', padding:'32px', textAlign:'center', transition:'all 0.3s'}} onMouseEnter={(e)=>{e.currentTarget.style.borderColor='var(--silver)'; e.currentTarget.style.transform='translateY(-4px)'; e.currentTarget.style.boxShadow='0 10px 40px rgba(200,200,200,0.1)'}} onMouseLeave={(e)=>{e.currentTarget.style.borderColor='var(--border)'; e.currentTarget.style.transform='translateY(0)'; e.currentTarget.style.boxShadow='none'}}>
                                        <div style={{fontSize:'3rem', marginBottom:'16px'}}>{f.icon}</div>
                                        <h3 style={{margin:'0 0 12px 0', color:'var(--text-primary)', fontSize:'1.2rem'}}>{f.title}</h3>
                                        <p style={{margin:'0', color:'var(--text-secondary)', lineHeight:'1.6'}}>{f.desc}</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </section>

                    {/* Featured Videos */}
                    {isAuthenticated && (
                        <section style={{padding:'60px 40px', maxWidth:'1200px', margin:'0 auto'}}>
                            <h2 style={{marginTop:'0', marginBottom:'40px', color:'var(--text-primary)'}}>ConteÃºdo em destaque</h2>
                            <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))', gap:'24px'}}>
                                {featuredVideos.map(video => (
                                    <div key={video.id} style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', padding:'24px', textAlign:'center', transition:'all 0.3s', cursor:'pointer'}} onMouseEnter={(e)=>{e.currentTarget.style.borderColor='var(--silver)'; e.currentTarget.style.boxShadow='var(--shadow-md)'}} onMouseLeave={(e)=>{e.currentTarget.style.borderColor='var(--border)'; e.currentTarget.style.boxShadow='none'}}>
                                        <div style={{fontSize:'3rem', marginBottom:'16px'}}>{video.emoji}</div>
                                        <h3 style={{margin:'0 0 16px 0', color:'var(--text-primary)'}}>{video.title}</h3>
                                        <button className="btn btn-sm btn-primary">Assistir</button>
                                    </div>
                                ))}
                            </div>
                        </section>
                    )}

                    {/* Features */}
                    <section style={{padding:'60px 40px', background:'var(--bg-secondary)'}}>
                        <h2 style={{textAlign:'center', marginTop:'0', marginBottom:'50px', color:'var(--text-primary)', fontSize:'2.2rem'}}>Por que Wake Up Now?</h2>
                        <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))', gap:'30px', maxWidth:'1200px', margin:'0 auto'}}>
                            {[{icon:'ğŸ“š', title:'ConteÃºdo estruturado', desc:'VÃ­deos em sequÃªncia lÃ³gica para vocÃª aprender passo a passo'}, {icon:'ğŸ“', title:'Certificados', desc:'Receba certificados ao concluir os cursos'}, {icon:'ğŸ‘¥', title:'Comunidade', desc:'Conecte-se com outras pessoas em busca dos mesmos objetivos'}, {icon:'â°', title:'Acesso 24/7', desc:'Assista quando quiser, onde quiser'}, {icon:'ğŸ’°', title:'PreÃ§o acessÃ­vel', desc:'Planos para todos os orÃ§amentos'}, {icon:'ğŸš€', title:'TransformaÃ§Ã£o real', desc:'Resultados comprovados de usuÃ¡rios do mundo inteiro'}].map((f, i) => (
                                <div key={i} style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', padding:'32px', textAlign:'center', transition:'all 0.3s'}} onMouseEnter={(e)=>{e.currentTarget.style.borderColor='var(--silver)'; e.currentTarget.style.transform='translateY(-4px)'; e.currentTarget.style.boxShadow='var(--shadow-md)'}} onMouseLeave={(e)=>{e.currentTarget.style.borderColor='var(--border)'; e.currentTarget.style.transform='translateY(0)'; e.currentTarget.style.boxShadow='none'}}>
                                    <div style={{fontSize:'3rem', marginBottom:'16px'}}>{f.icon}</div>
                                    <h3 style={{margin:'0 0 12px 0', color:'var(--text-primary)', fontSize:'1.2rem'}}>{f.title}</h3>
                                    <p style={{margin:'0', color:'var(--text-secondary)', lineHeight:'1.6'}}>{f.desc}</p>
                                </div>
                            ))}
                        </div>
                    </section>

                    {/* CTA */}
                    <section style={{padding:'80px 40px', background:'linear-gradient(135deg, rgba(200,200,200,0.1) 0%, rgba(200,200,200,0.05) 100%)', textAlign:'center'}}>
                        <h2 style={{marginTop:'0', marginBottom:'16px', color:'var(--text-primary)', fontSize:'2.5rem'}}>Comece sua transformaÃ§Ã£o hoje</h2>
                        <p style={{margin:'0 0 32px 0', color:'var(--text-secondary)', fontSize:'1.2rem'}}>Junte-se a milhares de pessoas que jÃ¡ acordam mais cedo</p>
                        <button className="btn btn-primary" style={{padding:'14px 32px', fontSize:'1.1rem'}}>ğŸš€ Assinar agora</button>
                    </section>
                </div>
            );
        }

        // Cadastro Component - Refactored
        function Cadastro() {
            const [loginForm, setLoginForm] = React.useState({ email: '', password: '' });
            const [registerForm, setRegisterForm] = React.useState({ firstName: '', lastName: '', email: '', cpf: '', password: '', confirmPassword: '', agreeTerms: false });
            const [loginError, setLoginError] = React.useState('');
            const [registerError, setRegisterError] = React.useState('');
            const [isLoginLoading, setIsLoginLoading] = React.useState(false);
            const [isRegisterLoading, setIsRegisterLoading] = React.useState(false);
            const [activeTab, setActiveTab] = React.useState('login');

            const maskCPF = (value) => value.replace(/\D/g, '').replace(/(\d{3})(\d)/, '$1.$2').replace(/(\d{3})(\d)/, '$1.$2').replace(/(\d{3})(\d{1,2})/, '$1-$2').substring(0, 14);

            const handleLogin = async (e) => {
                e.preventDefault();
                setLoginError('');
                if (!loginForm.email || !loginForm.password) { setLoginError('Preencha todos os campos'); return; }
                setIsLoginLoading(true);
                setTimeout(() => {
                    window.AuthState.login({ name: 'JoÃ£o Silva', email: loginForm.email, role: 'user' }, 'token_' + Date.now());
                    window.location.reload();
                    setIsLoginLoading(false);
                }, 1000);
            };

            const handleRegister = async (e) => {
                e.preventDefault();
                setRegisterError('');
                if (!registerForm.firstName || !registerForm.email || !registerForm.cpf || !registerForm.password) { setRegisterError('Preencha todos os campos'); return; }
                setIsRegisterLoading(true);
                setTimeout(() => {
                    window.AuthState.login({ name: registerForm.firstName + ' ' + registerForm.lastName, email: registerForm.email, role: 'user' }, 'token_' + Date.now());
                    window.location.reload();
                    setIsRegisterLoading(false);
                }, 1000);
            };

            return (
                <div className="view active" style={{padding:'40px', maxWidth:'600px', margin:'0 auto'}}>
                    <div style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', padding:'40px'}}>
                        <div style={{display:'flex', gap:'16px', marginBottom:'30px'}}>
                            <button className={`btn btn-sm ${activeTab==='login'?'btn-primary':'btn-secondary'}`} onClick={()=>setActiveTab('login')} style={{flex:1}}>Entrar</button>
                            <button className={`btn btn-sm ${activeTab==='register'?'btn-primary':'btn-secondary'}`} onClick={()=>setActiveTab('register')} style={{flex:1}}>Criar Conta</button>
                        </div>

                        {activeTab === 'login' && (
                            <form onSubmit={handleLogin}>
                                <h2 style={{marginTop:'0', color:'var(--text-primary)'}}>Bem-vindo de volta</h2>
                                {loginError && <div style={{background:'rgba(255,109,109,0.2)', color:'#ff6d6d', padding:'12px', borderRadius:'var(--radius-sm)', marginBottom:'16px'}}>{loginError}</div>}
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Email</label><input type="email" value={loginForm.email} onChange={(e)=>setLoginForm({...loginForm, email:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <div style={{marginBottom:'24px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Senha</label><input type="password" value={loginForm.password} onChange={(e)=>setLoginForm({...loginForm, password:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <button type="submit" className="btn btn-primary" style={{width:'100%'}} disabled={isLoginLoading}>{isLoginLoading?'â³ Entrando...':'Entrar'}</button>
                            </form>
                        )}

                        {activeTab === 'register' && (
                            <form onSubmit={handleRegister}>
                                <h2 style={{marginTop:'0', color:'var(--text-primary)'}}>Criar conta</h2>
                                {registerError && <div style={{background:'rgba(255,109,109,0.2)', color:'#ff6d6d', padding:'12px', borderRadius:'var(--radius-sm)', marginBottom:'16px'}}>{registerError}</div>}
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Primeiro Nome</label><input type="text" value={registerForm.firstName} onChange={(e)=>setRegisterForm({...registerForm, firstName:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Ãšltimo Nome</label><input type="text" value={registerForm.lastName} onChange={(e)=>setRegisterForm({...registerForm, lastName:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Email</label><input type="email" value={registerForm.email} onChange={(e)=>setRegisterForm({...registerForm, email:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>CPF</label><input type="text" value={registerForm.cpf} onChange={(e)=>setRegisterForm({...registerForm, cpf:maskCPF(e.target.value)})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Senha</label><input type="password" value={registerForm.password} onChange={(e)=>setRegisterForm({...registerForm, password:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <div style={{marginBottom:'16px'}}><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)'}}>Confirmar Senha</label><input type="password" value={registerForm.confirmPassword} onChange={(e)=>setRegisterForm({...registerForm, confirmPassword:e.target.value})} style={{width:'100%', padding:'10px 12px', background:'var(--bg-secondary)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)'}} /></div>
                                <button type="submit" className="btn btn-primary" style={{width:'100%'}} disabled={isRegisterLoading}>{isRegisterLoading?'â³ Criando...':'Criar Conta'}</button>
                            </form>
                        )}
                    </div>
                </div>
            );
        }

        // Videos Component - Refactored
        function Videos() {
            const [videos] = React.useState([
                { id: 1, title: 'Como acordar cedo', theme: 'Rotina', duration: '12:30', locked: false, thumbnail: 'ğŸ¥' },
                { id: 2, title: 'TÃ©cnicas de meditaÃ§Ã£o', theme: 'Bem-estar', duration: '18:45', locked: false, thumbnail: 'ğŸ§˜' },
                { id: 3, title: 'ExercÃ­cios matinais', theme: 'Fitness', duration: '25:00', locked: true, thumbnail: 'ğŸ’ª' },
                { id: 4, title: 'NutriÃ§Ã£o para madrugadores', theme: 'SaÃºde', duration: '15:20', locked: true, thumbnail: 'ğŸ¥—' }
            ]);
            const [selectedTheme, setSelectedTheme] = React.useState(null);
            const [searchQuery, setSearchQuery] = React.useState('');
            const themes = ['Rotina', 'Bem-estar', 'Fitness', 'SaÃºde'];
            const filteredVideos = videos.filter(video => {
                const matchesTheme = !selectedTheme || video.theme === selectedTheme;
                const matchesSearch = !searchQuery || video.title.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesTheme && matchesSearch;
            });

            return (
                <div className="view active" style={{padding:'40px'}}>
                    <div style={{maxWidth:'1200px', margin:'0 auto'}}>
                        <div style={{marginBottom:'30px'}}><input type="text" placeholder="ğŸ” Buscar vÃ­deo..." value={searchQuery} onChange={(e)=>setSearchQuery(e.target.value)} style={{width:'100%', padding:'12px 16px', background:'var(--bg-input)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', color:'var(--text-primary)', fontSize:'1rem'}} /></div>
                        <div style={{display:'flex', gap:'10px', marginBottom:'30px', flexWrap:'wrap'}}>
                            <button className={`btn btn-sm ${!selectedTheme?'btn-primary':'btn-secondary'}`} onClick={()=>setSelectedTheme(null)}>Todos</button>
                            {themes.map(theme => <button key={theme} className={`btn btn-sm ${selectedTheme===theme?'btn-primary':'btn-secondary'}`} onClick={()=>setSelectedTheme(theme)}>{theme}</button>)}
                        </div>
                        <div style={{display:'grid', gridTemplateColumns:'repeat(auto-fill, minmax(250px, 1fr))', gap:'20px'}}>
                            {filteredVideos.length > 0 ? filteredVideos.map(video => (
                                <div key={video.id} style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', overflow:'hidden', transition:'all 0.3s'}}>
                                    <div style={{aspectRatio:'16/9', background:'var(--bg-secondary)', display:'flex', alignItems:'center', justifyContent:'center', fontSize:'3rem', position:'relative', overflow:'hidden'}}>{video.thumbnail}{video.locked && <div style={{position:'absolute', top:'8px', right:'8px', fontSize:'1.5rem', background:'rgba(0,0,0,0.5)', padding:'4px 8px', borderRadius:'4px'}}>ğŸ”’</div>}</div>
                                    <div style={{padding:'16px'}}><h3 style={{margin:'0 0 8px 0', fontSize:'1rem', color:'var(--text-primary)', lineHeight:'1.3'}}>{video.title}</h3><p style={{fontSize:'0.8rem', color:'var(--text-muted)', margin:'0 0 8px 0'}}>{video.theme}</p><p style={{fontSize:'0.9rem', color:'var(--text-muted)', margin:'0 0 12px 0'}}>â±ï¸ {video.duration}</p><button className={`btn btn-sm ${video.locked?'btn-secondary':'btn-primary'}`}>{video.locked?'ğŸ”’ Bloqueado':'â–¶ Assistir'}</button></div>
                                </div>
                            )) : <p style={{gridColumn:'1/-1', textAlign:'center', color:'var(--text-muted)'}}>Nenhum vÃ­deo encontrado</p>}
                        </div>
                    </div>
                </div>
            );
        }

        // Pagamento Component - Refactored
        function Pagamento() {
            const [selectedPlan, setSelectedPlan] = React.useState(null);
            const [paymentMethod, setPaymentMethod] = React.useState('card');
            const plans = [
                { id: 'starter', name: 'Starter', price: 29.90, features: ['âœ“ 20 vÃ­deos', 'âœ“ Suporte por email', 'âœ— Certificado', 'âœ— Comunidade'] },
                { id: 'pro', name: 'Pro', price: 79.90, featured: true, features: ['âœ“ Todos os vÃ­deos', 'âœ“ Suporte prioritÃ¡rio', 'âœ“ Certificado', 'âœ— Comunidade'] },
                { id: 'elite', name: 'Elite', price: 149.90, features: ['âœ“ Todos os vÃ­deos', 'âœ“ Suporte 24/7', 'âœ“ Certificado premium', 'âœ“ Comunidade'] }
            ];
            const selectedPlanData = selectedPlan ? plans.find(p => p.id === selectedPlan) : null;

            return (
                <div className="view active" style={{padding:'40px'}}>
                    <div style={{maxWidth:'1200px', margin:'0 auto', display:'grid', gridTemplateColumns:'1fr 1fr', gap:'40px'}}>
                        <div><h2 style={{marginTop:'0', marginBottom:'30px', color:'var(--text-primary)'}}>Escolha seu plano</h2><div style={{display:'flex', flexDirection:'column', gap:'20px'}}>{plans.map(plan=><div key={plan.id} style={{background:'var(--bg-card)', border:`2px solid ${selectedPlan===plan.id?'var(--silver)':'var(--border)'}`, borderRadius:'var(--radius-md)', padding:'24px', cursor:'pointer', transition:'all 0.3s', background: selectedPlan===plan.id?'var(--bg-secondary)':'var(--bg-card)'}} onClick={()=>setSelectedPlan(plan.id)}>{plan.featured && <div style={{position:'absolute', top:'-12px', right:'20px', background:'var(--silver)', color:'var(--charcoal)', padding:'4px 12px', borderRadius:'12px', fontSize:'0.8rem', fontWeight:'600'}}>â­ Popular</div>}<h3 style={{margin:'0 0 8px 0', fontSize:'1.5rem', color:'var(--text-primary)'}}>{plan.name}</h3><div style={{margin:'20px 0', fontSize:'2rem', fontWeight:'700', color:'var(--silver)'}}>R$ {plan.price.toFixed(2)}<span style={{color:'var(--text-muted)', fontSize:'1rem'}}>/mÃªs</span></div><ul style={{listStyle:'none', padding:'0', margin:'20px 0'}}>{plan.features.map((f,i)=><li key={i} style={{padding:'8px 0', color:'var(--text-secondary)'}}>{f}</li>)}</ul><button className="btn btn-sm btn-primary" style={{width:'100%'}} onClick={()=>setSelectedPlan(plan.id)}>Escolher</button></div>)}</div></div>
                        {selectedPlanData && (
                            <div style={{position:'sticky', top:'40px'}}>
                                <div style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', padding:'24px'}}>
                                    <h3 style={{marginTop:'0', color:'var(--text-primary)'}}>Resumo</h3>
                                    <div style={{background:'var(--bg-secondary)', borderRadius:'var(--radius-sm)', padding:'16px', margin:'20px 0'}}>
                                        <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', padding:'8px 0', color:'var(--text-secondary)'}}><span>Plano</span><strong style={{color:'var(--text-primary)'}}>{selectedPlanData.name}</strong></div>
                                        <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', padding:'8px 0', color:'var(--text-secondary)'}}><span>Valor</span><strong style={{color:'var(--text-primary)'}}>R$ {selectedPlanData.price.toFixed(2)}</strong></div>
                                        <div style={{height:'1px', background:'var(--border)', margin:'12px 0'}}></div>
                                        <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', padding:'12px 0', fontSize:'1.1rem', color:'var(--text-primary)'}}><span>Total</span><strong>R$ {selectedPlanData.price.toFixed(2)}</strong></div>
                                    </div>
                                    <div style={{display:'grid', gridTemplateColumns:'1fr 1fr 1fr', gap:'10px', margin:'20px 0'}}><button className={`btn btn-sm ${paymentMethod==='card'?'btn-primary':'btn-secondary'}`} onClick={()=>setPaymentMethod('card')}>ğŸ’³ CartÃ£o</button><button className={`btn btn-sm ${paymentMethod==='pix'?'btn-primary':'btn-secondary'}`} onClick={()=>setPaymentMethod('pix')}>ğŸ” PIX</button><button className={`btn btn-sm btn-secondary`} disabled>ğŸ“„ Boleto</button></div>
                                    <button className="btn btn-primary" style={{width:'100%', marginTop:'20px'}}>Confirmar Pagamento</button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Upload Component - Admin Only
        function Upload() {
            if (!window.AuthState.isAdmin()) {
                return <div className="view active" style={{padding:'40px', textAlign:'center'}}><h2>ğŸ”’ Acesso Restrito</h2><p>Apenas administradores podem acessar esta Ã¡rea.</p></div>;
            }

            const [isDragging, setIsDragging] = React.useState(false);
            const [selectedFile, setSelectedFile] = React.useState(null);
            const [uploadedVideos] = React.useState([
                { id: 1, title: 'Como acordar cedo', theme: 'Rotina', uploadedAt: '2024-01-15' },
                { id: 2, title: 'MeditaÃ§Ã£o Matinal', theme: 'Bem-estar', uploadedAt: '2024-01-14' }
            ]);

            const handleDrop = (e) => {
                e.preventDefault();
                setIsDragging(false);
                if (e.dataTransfer.files.length > 0) {
                    const file = e.dataTransfer.files[0];
                    if (file.type.startsWith('video/')) {
                        setSelectedFile(file);
                    }
                }
            };

            return (
                <div className="view active" style={{padding:'40px'}}>
                    <div style={{maxWidth:'1200px', margin:'0 auto', display:'grid', gridTemplateColumns:'1fr 1fr', gap:'40px'}}>
                        <div style={{display:'flex', flexDirection:'column', gap:'20px'}}>
                            <div style={{border:`2px dashed ${isDragging?'var(--silver)':'var(--border)'}`, borderRadius:'var(--radius-md)', padding:'40px', textAlign:'center', background: isDragging?'var(--bg-input)':'var(--bg-secondary)', cursor:'pointer', transition:'all 0.3s'}} onDragOver={(e)=>{e.preventDefault(); setIsDragging(true)}} onDragLeave={(e)=>{e.preventDefault(); setIsDragging(false)}} onDrop={handleDrop}>
                                {!selectedFile ? (<><div style={{fontSize:'3rem', marginBottom:'16px'}}>ğŸ“¹</div><h3 style={{margin:'0 0 8px 0'}}>Arrastar vÃ­deo aqui</h3><p>ou</p><label style={{cursor:'pointer'}}><input type="file" accept="video/*" onChange={(e)=>e.target.files[0] && setSelectedFile(e.target.files[0])} style={{display:'none'}} /><span className="btn btn-sm btn-primary">Selecionar arquivo</span></label></>) : (<><div style={{display:'flex', alignItems:'center', gap:'16px', padding:'20px', background:'var(--bg-secondary)', borderRadius:'var(--radius-sm)'}}><div style={{fontSize:'2rem', color:'var(--silver)'}}>âœ“</div><div><p style={{margin:'0', color:'var(--text-primary)', fontWeight:'500'}}>{selectedFile.name}</p></div></div></>)}
                            </div>
                        </div>
                        <div style={{padding:'24px', background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius-md)', maxHeight:'600px', overflowY:'auto'}}>
                            <h3 style={{marginTop:'0', color:'var(--text-primary)'}}>VÃ­deos Enviados ({uploadedVideos.length})</h3>
                            <table style={{width:'100%', borderCollapse:'collapse', fontSize:'0.9rem'}}>
                                <tbody>{uploadedVideos.map(video=><tr key={video.id} style={{borderBottom:'1px solid var(--border)'}}><td style={{padding:'12px', color:'var(--text-primary)', fontWeight:'500'}}>{video.title}</td><td style={{padding:'12px', color:'var(--text-secondary)'}}>{video.theme}</td><td style={{padding:'12px', color:'var(--text-secondary)'}}>{video.uploadedAt}</td></tr>)}</tbody>
                            </table>
                        </div>
                    </div>
                </div>
            );
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // LOGIN PAGE - OAuth + Email/Senha
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function LoginPage({ onSignupRequired }) {
            const [isLoading, setIsLoading] = React.useState(false);
            const [error, setError] = React.useState('');
            const [showEmailForm, setShowEmailForm] = React.useState(false);
            const [emailForm, setEmailForm] = React.useState({ email: '', password: '' });

            const handleGoogleClick = async () => {
                setIsLoading(true);
                setError('');
                try {
                    // 1ï¸âƒ£ Recebe token do Google (em produÃ§Ã£o, via @react-oauth/google)
                    const mockGoogleToken = 'google_' + Date.now();
                    
                    // 2ï¸âƒ£ Envia para backend verificar se email existe
                    const result = await window.AuthService.validateGoogleToken(mockGoogleToken);

                    // 3ï¸âƒ£ Email EXISTE na base â†’ Faz login
                    if (result.success && !result.isNewUser) {
                        window.AuthService.saveAuthData(result.user, result.token);
                        window.location.reload();
                    } 
                    // 4ï¸âƒ£ Email NÃƒO EXISTE â†’ Redireciona para cadastro com email prÃ©-preenchido
                    else if (result.isNewUser) {
                        sessionStorage.setItem('oauth_data', JSON.stringify({
                            email: result.userData.email,
                            name: result.userData.name,
                            provider: 'google',
                            token: mockGoogleToken
                        }));
                        onSignupRequired();
                    }
                } catch (err) {
                    setError('âŒ Erro com Google: ' + err.message);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleAppleClick = async () => {
                setIsLoading(true);
                setError('');
                try {
                    // 1ï¸âƒ£ Recebe token do Apple (em produÃ§Ã£o, via AppleSignIn SDK)
                    const mockAppleToken = 'apple_' + Date.now();
                    
                    // 2ï¸âƒ£ Envia para backend verificar se email existe
                    const result = await window.AuthService.validateAppleToken(mockAppleToken);

                    // 3ï¸âƒ£ Email EXISTE na base â†’ Faz login
                    if (result.success && !result.isNewUser) {
                        window.AuthService.saveAuthData(result.user, result.token);
                        window.location.reload();
                    } 
                    // 4ï¸âƒ£ Email NÃƒO EXISTE â†’ Redireciona para cadastro com email prÃ©-preenchido
                    else if (result.isNewUser) {
                        sessionStorage.setItem('oauth_data', JSON.stringify({
                            email: result.userData.email,
                            name: result.userData.name,
                            provider: 'apple',
                            token: mockAppleToken
                        }));
                        onSignupRequired();
                    }
                } catch (err) {
                    setError('âŒ Erro com Apple: ' + err.message);
                } finally {
                    setIsLoading(false);
                }
            };

            const handleEmailLogin = async (e) => {
                e.preventDefault();
                setIsLoading(true);
                setError('');
                try {
                    const result = await window.AuthService.loginEmail(emailForm.email, emailForm.password);
                    if (result.success) {
                        window.AuthService.saveAuthData(result.user, result.token);
                        window.location.reload();
                    } else {
                        setError(result.message || 'Credenciais invÃ¡lidas');
                    }
                } catch (err) {
                    setError('âŒ Erro: ' + err.message);
                } finally {
                    setIsLoading(false);
                }
            };

            return (
                <div className="view active" style={{padding: 0}}>
                    <div style={{display:'grid', gridTemplateColumns:'1fr 1fr', height:'100vh', background:'var(--bg-page)'}}>
                        {/* Lado Esquerdo */}
                        <div style={{padding:'60px 40px', display:'flex', flexDirection:'column', justifyContent:'center', borderRight:'1px solid var(--border)', background:'linear-gradient(135deg, rgba(200,200,200,0.05) 0%, transparent 100%)'}}>
                            <h1 style={{fontSize:'3rem', marginBottom:'16px', color:'var(--text-primary)'}}>Bem-vindo de volta</h1>
                            <p style={{fontSize:'1.2rem', color:'var(--text-secondary)', marginBottom:'40px', lineHeight:1.6}}>FaÃ§a login ou crie sua conta para acessar conteÃºdo exclusivo.</p>
                            
                            <div style={{display:'flex', flexDirection:'column', gap:'24px'}}>
                                <div style={{display:'flex', gap:'12px'}}>
                                    <div style={{fontSize:'2rem'}}>ğŸ¬</div>
                                    <div><h3 style={{margin:0, color:'var(--text-primary)'}}>ConteÃºdo Profissional</h3>
                                    <p style={{margin:'4px 0', color:'var(--text-secondary)', fontSize:'0.9rem'}}>VÃ­deos de alta qualidade organizados por mÃ³dulos</p></div>
                                </div>
                                <div style={{display:'flex', gap:'12px'}}>
                                    <div style={{fontSize:'2rem'}}>ğŸ”’</div>
                                    <div><h3 style={{margin:0, color:'var(--text-primary)'}}>SeguranÃ§a Garantida</h3>
                                    <p style={{margin:'4px 0', color:'var(--text-secondary)', fontSize:'0.9rem'}}>AutenticaÃ§Ã£o com Google/Apple + senha criptografada</p></div>
                                </div>
                                <div style={{display:'flex', gap:'12px'}}>
                                    <div style={{fontSize:'2rem'}}>âš¡</div>
                                    <div><h3 style={{margin:0, color:'var(--text-primary)'}}>Acesso Imediato</h3>
                                    <p style={{margin:'4px 0', color:'var(--text-secondary)', fontSize:'0.9rem'}}>Cadastro rÃ¡pido com OAuth - nenhuma forma tediosa</p></div>
                                </div>
                            </div>
                        </div>

                        {/* Lado Direito */}
                        <div style={{padding:'60px 40px', display:'flex', flexDirection:'column', justifyContent:'center', alignItems:'center'}}>
                            <div style={{width:'100%', maxWidth:'380px'}}>
                                <div style={{textAlign:'center', marginBottom:'32px'}}>
                                    <img src="./assets/wakeup-logo.jpg" alt="Wake Up Now" style={{width:'120px', height:'auto', marginBottom:'16px'}} />
                                    <h1 style={{marginTop:'0', marginBottom:'8px', fontSize:'1.8rem', color:'var(--silver)'}}>WAKE UP NOW</h1>
                                    <p style={{margin:'0', color:'var(--text-secondary)', fontSize:'0.95rem'}}>Desperte seu potencial</p>
                                </div>
                                
                                <h2 style={{marginTop:'32px', marginBottom:'32px', color:'var(--text-primary)', textAlign:'center'}}>Entrar na plataforma</h2>

                                {error && <div style={{background:'rgba(255,109,109,0.1)', color:'#ff6d6d', padding:'12px', borderRadius:'var(--radius-sm)', marginBottom:'20px', fontSize:'0.9rem'}}>{error}</div>}

                                {!showEmailForm ? (
                                    <>
                                        <div style={{display:'flex', flexDirection:'column', gap:'12px', marginBottom:'24px'}}>
                                            <button onClick={handleGoogleClick} disabled={isLoading} className="btn btn-primary" style={{width:'100%'}}>ğŸ”µ Continuar com Google</button>
                                            <button onClick={handleAppleClick} disabled={isLoading} className="btn btn-primary" style={{width:'100%'}}>ğŸ Continuar com Apple</button>
                                        </div>

                                        <div style={{display:'flex', alignItems:'center', gap:'12px', margin:'24px 0'}}><div style={{flex:1, height:'1px', background:'var(--border)'}}></div><span style={{color:'var(--text-muted)', fontSize:'0.85rem'}}>OU</span><div style={{flex:1, height:'1px', background:'var(--border)'}}></div></div>

                                        <button onClick={() => setShowEmailForm(true)} className="btn btn-outline" style={{width:'100%'}}>ğŸ“§ Usar email/senha</button>
                                    </>
                                ) : (
                                    <form onSubmit={handleEmailLogin} style={{display:'flex', flexDirection:'column', gap:'16px'}}>
                                        <div><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)', fontSize:'0.9rem'}}>Email</label>
                                        <input type="email" value={emailForm.email} onChange={(e) => setEmailForm({...emailForm, email:e.target.value})} placeholder="seu@email.com" style={{width:'100%', padding:'10px 12px', background:'var(--bg-input)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)', fontSize:'1rem'}} /></div>

                                        <div><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)', fontSize:'0.9rem'}}>Senha</label>
                                        <input type="password" value={emailForm.password} onChange={(e) => setEmailForm({...emailForm, password:e.target.value})} placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style={{width:'100%', padding:'10px 12px', background:'var(--bg-input)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)', fontSize:'1rem'}} /></div>

                                        <button type="submit" disabled={isLoading} className="btn btn-primary" style={{width:'100%'}}>{isLoading?'â³ Entrando...':'ğŸ”“ Entrar'}</button>

                                        <button type="button" onClick={() => setShowEmailForm(false)} style={{background:'transparent', border:'none', color:'var(--text-muted)', cursor:'pointer', fontSize:'0.9rem'}}>â† Voltar aos mÃ©todos OAuth</button>
                                    </form>
                                )}

                                <p style={{marginTop:'24px', textAlign:'center', color:'var(--text-secondary)', fontSize:'0.9rem'}}>NÃ£o tem conta? Vamos criar durante o primeiro login.</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // SIGNUP PAGE - Completar cadastro apÃ³s OAuth
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        function SignupPage({ onLoginClick }) {
            // ğŸ“§ Dados do OAuth vÃªm do LoginPage
            const oauthData = sessionStorage.getItem('oauth_data') ? JSON.parse(sessionStorage.getItem('oauth_data')) : null;
            const [isLoading, setIsLoading] = React.useState(false);
            const [error, setError] = React.useState('');
            const [cpf, setCpf] = React.useState('');
            const [password, setPassword] = React.useState('');
            const [confirmPassword, setConfirmPassword] = React.useState('');

            const maskCPF = (value) => value.replace(/\D/g, '').replace(/(\d{3})(\d)/, '$1.$2').replace(/(\d{3})(\d)/, '$1.$2').replace(/(\d{3})(\d{1,2})/, '$1-$2').substring(0, 14);

            const handleSubmit = async (e) => {
                e.preventDefault();
                setError('');

                if (!cpf || !password || !confirmPassword) {
                    setError('Preencha todos os campos');
                    return;
                }

                if (password !== confirmPassword) {
                    setError('Senhas nÃ£o coincidem');
                    return;
                }

                setIsLoading(true);
                try {
                    // ğŸ” Envia dados completos para backend completar o cadastro
                    const result = await window.AuthService.completeSignup({
                        email: oauthData.email,
                        name: oauthData.name,
                        cpf: cpf.replace(/\D/g, ''),
                        password,
                        provider: oauthData.provider,  // 'google' ou 'apple'
                        token: oauthData.token         // Token do OAuth
                    });

                    // âœ… Cadastro sucesso â†’ Faz login automÃ¡tico
                    if (result.success) {
                        window.AuthService.saveAuthData(result.user, result.token);
                        sessionStorage.removeItem('oauth_data');
                        window.location.reload();
                    } else {
                        setError(result.message || 'Erro ao completar cadastro');
                    }
                } catch (err) {
                    setError('âŒ Erro: ' + err.message);
                } finally {
                    setIsLoading(false);
                }
            };

            if (!oauthData) {
                return <div className="view active" style={{padding:'40px', textAlign:'center'}}>Dados de cadastro nÃ£o encontrados</div>;
            }

            return (
                <div className="view active" style={{padding:'40px'}}>
                    <div style={{maxWidth:'600px', margin:'0 auto'}}>
                        <h2 style={{marginTop:0, marginBottom:'24px', color:'var(--text-primary)'}}>Finalize seu cadastro</h2>

                        <div style={{background:'var(--bg-card)', border:'1px solid var(--border)', borderRadius:'var(--radius)', padding:'24px', marginBottom:'24px'}}>
                            <p style={{margin:0, color:'var(--text-secondary)'}}>VocÃª estÃ¡ se cadastrando com:</p>
                            <p style={{margin:'8px 0 0 0', color:'var(--text-primary)', fontWeight:600, fontSize:'1.1rem'}}>{oauthData.email}</p>
                        </div>

                        {error && <div style={{background:'rgba(255,109,109,0.1)', color:'#ff6d6d', padding:'12px', borderRadius:'var(--radius-sm)', marginBottom:'20px'}}>{error}</div>}

                        <form onSubmit={handleSubmit} style={{display:'flex', flexDirection:'column', gap:'16px'}}>
                            <div><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)', fontSize:'0.9rem'}}>CPF</label>
                            <input type="text" value={cpf} onChange={(e) => setCpf(maskCPF(e.target.value))} placeholder="123.456.789-00" style={{width:'100%', padding:'10px 12px', background:'var(--bg-input)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)', fontSize:'1rem'}} /></div>

                            <div><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)', fontSize:'0.9rem'}}>Senha</label>
                            <input type="password" value={password} onChange={(e) => setPassword(e.target.value)} placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style={{width:'100%', padding:'10px 12px', background:'var(--bg-input)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)', fontSize:'1rem'}} /></div>

                            <div><label style={{display:'block', marginBottom:'6px', color:'var(--text-secondary)', fontSize:'0.9rem'}}>Confirmar Senha</label>
                            <input type="password" value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)} placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" style={{width:'100%', padding:'10px 12px', background:'var(--bg-input)', border:'1px solid var(--border)', borderRadius:'var(--radius-sm)', color:'var(--text-primary)', fontSize:'1rem'}} /></div>

                            <button type="submit" disabled={isLoading} className="btn btn-primary" style={{width:'100%'}}>{isLoading?'â³ Criando conta...':'âœ… Finalizar Cadastro'}</button>
                        </form>

                        <p style={{marginTop:'20px', textAlign:'center', color:'var(--text-muted)', fontSize:'0.9rem'}}>JÃ¡ tem conta? <button onClick={onLoginClick} style={{background:'none', border:'none', color:'var(--silver)', cursor:'pointer', fontWeight:600}}>FaÃ§a login aqui</button></p>
                    </div>
                </div>
            );
        }

        // App Component Principal
        function App() {
            const [currentView, setCurrentView] = useState('home');
            
            // Passa setCurrentView para funÃ§Ãµes HTML vanilla (buttons onclick)
            React.useEffect(() => {
                window.setCurrentViewGlobal = setCurrentView;
            }, [setCurrentView]);

            const showSidebar = !(['login', 'signup'].includes(currentView));

            const renderView = () => {
                switch(currentView) {
                    case 'home': return <Home onClick={() => setCurrentView('login')} />;
                    case 'login': return <LoginPage onSignupRequired={() => setCurrentView('signup')} />;
                    case 'signup': return <SignupPage onLoginClick={() => setCurrentView('login')} />;
                    case 'cadastro': return <Cadastro />;
                    case 'videos': return <Videos />;
                    case 'pagamento': return <Pagamento />;
                    case 'upload': 
                        if (window.AuthState.isAdmin()) return <Upload />;
                        return <Home onClick={() => setCurrentView('login')} />;
                    default: return <Home onClick={() => setCurrentView('login')} />;
                }
            };

            const topbarConfig = {
                home: { title: 'Home', sub: 'Bem-vindo Ã  plataforma' },
                cadastro: { title: 'Cadastro', sub: 'Crie sua conta ou faÃ§a login' },
                videos: { title: 'ConteÃºdos', sub: 'Navegue pelos temas e mÃ³dulos' },
                pagamento: { title: 'Planos & Pagamento', sub: 'Escolha o melhor plano' },
                upload: { title: 'Upload de VÃ­deos', sub: 'Ãrea administrativa' }
            };

            const config = topbarConfig[currentView] || topbarConfig.home;

            return (
                <div className="app-shell">
                    {showSidebar && <Sidebar currentView={currentView} onNavigate={setCurrentView} />}
                    <main className="main-area" style={showSidebar ? {} : {width: '100%'}}>
                        {showSidebar && <Topbar 
                            title={config.title} 
                            subtitle={config.sub}
                            actions={<></>}
                        />}
                        <div className="view-content">
                            {renderView()}
                        </div>
                    </main>
                </div>
            );
        }

        // Renderizar App
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>

</body>
</html>
